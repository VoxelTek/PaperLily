[gd_scene load_steps=38 format=2]

[ext_resource path="res://script/Managers/Rooms/GameRoom.cs" type="Script" id=1]
[ext_resource path="res://script/Core/Nodes/VariableVisibility2D.cs" type="Script" id=2]
[ext_resource path="res://script/Core/Nodes/EditorOnlyVisibility.cs" type="Script" id=3]
[ext_resource path="res://script/Core/Nodes/GameOnlyVisibility.cs" type="Script" id=4]
[ext_resource path="res://resources/tileset/common_collision.tres" type="TileSet" id=5]
[ext_resource path="res://assets/sprite/ch1/mk/blessing_2/wall_painting.png" type="Texture" id=6]
[ext_resource path="res://assets/sprite/ch1/mk/blessing_2/misc_painting_4.png" type="Texture" id=7]
[ext_resource path="res://assets/sprite/ch1/mk/blessing_2/misc_painting_8.png" type="Texture" id=8]
[ext_resource path="res://assets/sprite/ch1/mk/blessing_2/misc_painting_2.png" type="Texture" id=9]
[ext_resource path="res://assets/sprite/ch1/mk/blessing_2/misc_painting_6.png" type="Texture" id=10]
[ext_resource path="res://assets/sprite/ch1/mk/blessing_2/misc_books.png" type="Texture" id=11]
[ext_resource path="res://assets/sprite/ch1/mk/blessing_2/misc_painting_5.png" type="Texture" id=12]
[ext_resource path="res://assets/sprite/ch1/mk/blessing_2/floor_book_2.png" type="Texture" id=13]
[ext_resource path="res://assets/sprite/ch1/mk/blessing_2/misc_gravestone.png" type="Texture" id=14]
[ext_resource path="res://assets/sprite/ch1/mk/blessing_2/misc_painting_1.png" type="Texture" id=15]
[ext_resource path="res://assets/sprite/ch1/mk/blessing_2/floor_book_1.png" type="Texture" id=16]
[ext_resource path="res://assets/sprite/ch1/mk/blessing_2/floor_4.png" type="Texture" id=17]
[ext_resource path="res://assets/sprite/ch1/mk/blessing_2/floor_1.png" type="Texture" id=18]
[ext_resource path="res://assets/sprite/ch1/mk/blessing_2/floor_6.png" type="Texture" id=19]
[ext_resource path="res://assets/sprite/ch1/mk/blessing_2/bg.png" type="Texture" id=20]
[ext_resource path="res://assets/sprite/ch1/mk/blessing_2/misc_painting_3.png" type="Texture" id=21]
[ext_resource path="res://assets/sprite/ch1/mk/blessing_2/misc_painting_7.png" type="Texture" id=22]
[ext_resource path="res://assets/sprite/ch1/mk/blessing_2/floor_7.png" type="Texture" id=23]
[ext_resource path="res://assets/sprite/ch1/mk/blessing_2/bg_wisteria.png" type="Texture" id=24]
[ext_resource path="res://script/Nodes/SpawnPoint.cs" type="Script" id=25]
[ext_resource path="res://assets/sprite/ch1/mk/blessing_2/floor_2.png" type="Texture" id=26]
[ext_resource path="res://assets/sprite/ch1/mk/blessing_2/floor_3.png" type="Texture" id=27]
[ext_resource path="res://assets/sprite/ch1/mk/blessing_2/floor_5.png" type="Texture" id=28]
[ext_resource path="res://script/Core/Nodes/EventTriggerRect.cs" type="Script" id=29]
[ext_resource path="res://assets/sprite/ch1/mk/common/floor_cobblestone_1.png" type="Texture" id=30]
[ext_resource path="res://assets/sprite/ch1/mk/common/floor_cobblestone_3.png" type="Texture" id=31]
[ext_resource path="res://assets/sprite/ch1/mk/common/floor_cobblestone_2.png" type="Texture" id=32]
[ext_resource path="res://script/Core/Nodes/ActionGroup.cs" type="Script" id=33]
[ext_resource path="res://script/Core/Nodes/ActionFade2D.cs" type="Script" id=34]
[ext_resource path="res://assets/sprite/ch1/mk/blessing_2/wall_drapes.png" type="Texture" id=35]
[ext_resource path="res://script/Core/Nodes/ActionSpriteFrame.cs" type="Script" id=36]
[ext_resource path="res://script/Core/Nodes/ActionPositionPlayerAlign.cs" type="Script" id=37]

[node name="Ch1_MK_Blessing_2" type="Node2D"]
script = ExtResource( 1 )
__meta__ = {
"_edit_lock_": true
}

[node name="Background" type="Node2D" parent="."]
__meta__ = {
"_edit_lock_": true
}

[node name="CobblestoneOut" type="Node2D" parent="Background"]
visible = false

[node name="FloorCobblestone1" type="Sprite" parent="Background/CobblestoneOut"]
position = Vector2( 0, -14 )
texture = ExtResource( 30 )
offset = Vector2( 0.5, 0 )

[node name="FloorCobblestone2" type="Sprite" parent="Background/CobblestoneOut"]
position = Vector2( 0, -78 )
texture = ExtResource( 30 )
offset = Vector2( 0.5, 0 )

[node name="FloorCobblestone3" type="Sprite" parent="Background/CobblestoneOut"]
position = Vector2( 0, -141 )
texture = ExtResource( 32 )

[node name="Background" type="Node2D" parent="Background"]

[node name="Bg" type="Sprite" parent="Background/Background"]
position = Vector2( 230, 135 )
texture = ExtResource( 20 )

[node name="BgWisteria" type="Sprite" parent="Background/Background"]
position = Vector2( 219, 27 )
texture = ExtResource( 24 )

[node name="Floor1" type="Sprite" parent="Background/Background"]
position = Vector2( 55, 191 )
texture = ExtResource( 18 )

[node name="Floor2" type="Sprite" parent="Background/Background"]
position = Vector2( 15, 208 )
texture = ExtResource( 26 )

[node name="Floor3" type="Sprite" parent="Background/Background"]
position = Vector2( 33, 277 )
texture = ExtResource( 27 )

[node name="Floor4" type="Sprite" parent="Background/Background"]
position = Vector2( 92, 301 )
texture = ExtResource( 17 )

[node name="Floor5" type="Sprite" parent="Background/Background"]
position = Vector2( 32, 355 )
texture = ExtResource( 28 )

[node name="Floor6" type="Sprite" parent="Background/Background"]
position = Vector2( 355, 351 )
texture = ExtResource( 19 )

[node name="Floor7" type="Sprite" parent="Background/Background"]
position = Vector2( 390, 297 )
texture = ExtResource( 23 )

[node name="Paintings" type="Node2D" parent="Background/Background"]

[node name="MiscPainting2" type="Sprite" parent="Background/Background/Paintings"]
position = Vector2( 253, 118 )
texture = ExtResource( 9 )

[node name="WallPainting" type="Sprite" parent="Background/Background/Paintings"]
position = Vector2( 222, 70 )
texture = ExtResource( 6 )

[node name="MiscGravestone" type="Sprite" parent="Background/Background/Paintings"]
position = Vector2( 222, 70 )
texture = ExtResource( 14 )

[node name="WallDrapes" type="Sprite" parent="Background/Background/Paintings"]
position = Vector2( 222, 74 )
texture = ExtResource( 35 )
hframes = 2

[node name="MiscPainting1" type="Sprite" parent="Background/Background/Paintings"]
position = Vector2( 154, 119 )
texture = ExtResource( 15 )

[node name="MiscPainting3" type="Sprite" parent="Background/Background/Paintings"]
position = Vector2( 169, 118 )
texture = ExtResource( 21 )

[node name="MiscPainting4" type="Sprite" parent="Background/Background/Paintings"]
position = Vector2( 296, 142 )
texture = ExtResource( 7 )

[node name="MiscPainting5" type="Sprite" parent="Background/Background/Paintings"]
position = Vector2( 269, 126 )
texture = ExtResource( 12 )

[node name="MiscPainting6" type="Sprite" parent="Background/Background/Paintings"]
position = Vector2( 193, 124 )
texture = ExtResource( 10 )

[node name="MiscPainting7" type="Sprite" parent="Background/Background/Paintings"]
position = Vector2( 154, 159 )
texture = ExtResource( 22 )

[node name="MiscPainting8" type="Sprite" parent="Background/Background/Paintings"]
position = Vector2( 178, 135 )
texture = ExtResource( 8 )

[node name="FloorBook1" type="Sprite" parent="Background/Background"]
position = Vector2( 277, 173 )
texture = ExtResource( 16 )

[node name="CobblestoneIn" type="Node2D" parent="Background/Background"]
position = Vector2( 224, 878 )

[node name="FloorCobblestone1" type="Sprite" parent="Background/Background/CobblestoneIn"]
position = Vector2( 0, 201 )
texture = ExtResource( 30 )
offset = Vector2( 0.5, 0 )

[node name="FloorCobblestone2" type="Sprite" parent="Background/Background/CobblestoneIn"]
position = Vector2( 0, 137 )
texture = ExtResource( 30 )
offset = Vector2( 0.5, 0 )

[node name="FloorCobblestone3" type="Sprite" parent="Background/Background/CobblestoneIn"]
position = Vector2( 0, 74 )
texture = ExtResource( 32 )

[node name="FloorCobblestone4" type="Sprite" parent="Background/Background/CobblestoneIn"]
position = Vector2( 0, 11 )
texture = ExtResource( 32 )

[node name="FloorCobblestone5" type="Sprite" parent="Background/Background/CobblestoneIn"]
position = Vector2( 0, -51 )
texture = ExtResource( 31 )

[node name="FloorCobblestone6" type="Sprite" parent="Background/Background/CobblestoneIn"]
position = Vector2( 0, -115 )
texture = ExtResource( 31 )

[node name="FloorCobblestone7" type="Sprite" parent="Background/Background/CobblestoneIn"]
position = Vector2( 0, -179 )
texture = ExtResource( 31 )

[node name="FloorCobblestone8" type="Sprite" parent="Background/Background/CobblestoneIn"]
position = Vector2( 0, -243 )
texture = ExtResource( 31 )

[node name="FloorCobblestone9" type="Sprite" parent="Background/Background/CobblestoneIn"]
position = Vector2( 0, -307 )
texture = ExtResource( 31 )

[node name="FloorCobblestone10" type="Sprite" parent="Background/Background/CobblestoneIn"]
position = Vector2( 0, -372 )
texture = ExtResource( 32 )

[node name="FloorCobblestone11" type="Sprite" parent="Background/Background/CobblestoneIn"]
position = Vector2( 0, -435 )
texture = ExtResource( 32 )

[node name="FloorCobblestone12" type="Sprite" parent="Background/Background/CobblestoneIn"]
position = Vector2( 0, -501 )
texture = ExtResource( 30 )
offset = Vector2( 0.5, 0 )

[node name="FloorCobblestone13" type="Sprite" parent="Background/Background/CobblestoneIn"]
position = Vector2( 0, -564 )
texture = ExtResource( 30 )
offset = Vector2( 0.5, 0 )

[node name="Main" type="YSort" parent="."]
__meta__ = {
"_edit_lock_": true
}

[node name="MiscBooks" type="Sprite" parent="Main"]
position = Vector2( 128, 220 )
texture = ExtResource( 11 )
offset = Vector2( 0, -8 )

[node name="MiscBooks2" type="Sprite" parent="Main"]
position = Vector2( 318, 134 )
texture = ExtResource( 11 )
offset = Vector2( 0, -8 )
flip_h = true

[node name="FloorBook2" type="Sprite" parent="Main"]
position = Vector2( 305, 180 )
texture = ExtResource( 13 )
offset = Vector2( 0, 4 )

[node name="Lighting" type="Node2D" parent="."]
visible = false
script = ExtResource( 4 )
__meta__ = {
"_edit_lock_": true
}

[node name="Other" type="Node2D" parent="."]
script = ExtResource( 3 )
__meta__ = {
"_edit_lock_": true
}

[node name="TilesCol" type="TileMap" parent="Other"]
tile_set = ExtResource( 5 )
cell_size = Vector2( 32, 32 )
show_collision = true
collision_layer = 2
collision_mask = 0
format = 1
tile_data = PoolIntArray( 196609, 0, 0, 196610, 0, 0, 196611, 0, 0, 196612, 0, 0, 196613, 0, 0, 196614, 0, 0, 196615, 0, 0, 196616, 0, 0, 196617, 0, 0, 196618, 0, 0, 196619, 0, 0, 196620, 0, 0, 589825, 0, 0, 589826, 0, 0, 589827, 0, 0, 589828, 0, 0, 589829, 0, 0, 589832, 0, 0, 589833, 0, 0, 589834, 0, 0, 589835, 0, 0, 589836, 0, 0, 655365, 0, 0, 655368, 0, 0, 720901, 0, 0, 720904, 0, 0, 786437, 0, 0, 786440, 0, 0, 851973, 0, 0, 851976, 0, 0, 917509, 0, 0, 917512, 0, 0, 983045, 0, 0, 983048, 0, 0, 1048581, 0, 0, 1048584, 0, 0, 1114117, 0, 0, 1114120, 0, 0, 1179653, 0, 0, 1179656, 0, 0, 1245189, 0, 0, 1245192, 0, 0, 1310725, 0, 0, 1310728, 0, 0, 1376261, 0, 0, 1376264, 0, 0, 1441797, 0, 0, 1441800, 0, 0, 1507333, 0, 0, 1507336, 0, 0, 1572869, 0, 0, 1572872, 0, 0, 1638405, 0, 0, 1638408, 0, 0, 1703941, 0, 0, 1703944, 0, 0, 1769477, 0, 0, 1769480, 0, 0, 1835013, 0, 0, 1835016, 0, 0, 1900549, 0, 0, 1900552, 0, 0, 1966085, 0, 0, 1966088, 0, 0, 2031621, 0, 0, 2031624, 0, 0, 2097157, 0, 0, 2097160, 0, 0, 2162693, 0, 0, 2162696, 0, 0, 2228229, 0, 0, 2228232, 0, 0, 2293765, 0, 0, 2293766, 1, 1, 2293767, 1, 1, 2293768, 0, 0 )
__meta__ = {
"_edit_lock_": true
}

[node name="Boundary" type="StaticBody2D" parent="Other"]
collision_layer = 2
collision_mask = 0
__meta__ = {
"_edit_lock_": true
}

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Other/Boundary"]
polygon = PoolVector2Array( 130, 128, 130, 134, 119, 138, 57, 145, 57, 147, 90, 154, 143, 158, 143, 162, 103, 170, 103, 173, 143, 186, 160, 187, 178, 195, 168, 199, 116, 207, 59, 220, 59, 223, 105, 237, 119, 240, 119, 244, 106, 256, 137, 260, 175, 263, 178, 269, 192, 269, 192, 288, 32, 288, 32, 128 )

[node name="CollisionPolygon2D2" type="CollisionPolygon2D" parent="Other/Boundary"]
polygon = PoolVector2Array( 341, 128, 341, 132, 347, 140, 366, 146, 392, 161, 359, 169, 311, 169, 311, 174, 357, 186, 357, 195, 399, 212, 399, 214, 360, 216, 314, 225, 314, 230, 344, 246, 344, 249, 285, 252, 256, 258, 256, 288, 416, 288, 416, 128 )

[node name="Events" type="Node2D" parent="Other"]
__meta__ = {
"_edit_lock_": true
}

[node name="misc_books_1" type="Node2D" parent="Other/Events"]
position = Vector2( 128, 215 )
script = ExtResource( 29 )
Event = "misc_books"
Area = Vector2( 26, 24 )

[node name="misc_books_2" type="Node2D" parent="Other/Events"]
position = Vector2( 318, 133 )
script = ExtResource( 29 )
Event = "misc_books"
Area = Vector2( 26, 16 )

[node name="misc_book_1" type="Node2D" parent="Other/Events"]
position = Vector2( 276, 172 )
script = ExtResource( 29 )
Event = "misc_book"
Area = Vector2( 21, 11 )

[node name="misc_book_2" type="Node2D" parent="Other/Events"]
position = Vector2( 305, 186 )
script = ExtResource( 29 )
Event = "misc_book"
Area = Vector2( 20, 14 )

[node name="misc_main_painting" type="Node2D" parent="Other/Events"]
position = Vector2( 224, 112 )
script = ExtResource( 29 )

[node name="misc_painting_1" type="Node2D" parent="Other/Events"]
position = Vector2( 177, 131 )
script = ExtResource( 29 )
Event = "misc_painting"
Area = Vector2( 24, 32 )

[node name="misc_painting_2" type="Node2D" parent="Other/Events"]
position = Vector2( 271, 127 )
script = ExtResource( 29 )
Event = "misc_painting"
Area = Vector2( 24, 32 )

[node name="misc_painting_3" type="Node2D" parent="Other/Events"]
position = Vector2( 183, 121 )
script = ExtResource( 29 )
Event = "misc_painting"
Area = Vector2( 56, 32 )

[node name="misc_painting_4" type="Node2D" parent="Other/Events"]
position = Vector2( 254, 119 )
script = ExtResource( 29 )
Event = "misc_painting"

[node name="misc_painting_5" type="Node2D" parent="Other/Events"]
position = Vector2( 150, 115 )
script = ExtResource( 29 )
Event = "misc_painting"
Area = Vector2( 16, 32 )

[node name="Points" type="Node2D" parent="Other"]
__meta__ = {
"_edit_lock_": true
}

[node name="entrance" type="Node2D" parent="Other/Points"]
position = Vector2( 224, 1104 )
script = ExtResource( 25 )
Direction = 2

[node name="Updates" type="Node" parent="Other"]

[node name="bad_painting" type="Node" parent="Other/Updates"]
script = ExtResource( 2 )
Variable = "ch1.temp_ending_1_12"
Node = NodePath("../../../Background/Background/Paintings/MiscGravestone")

[node name="good_painting" type="Node" parent="Other/Updates"]
script = ExtResource( 2 )
Variable = "ch1.temp_ending_1_12"
Node = NodePath("../../../Background/Background/Paintings/WallPainting")
Invert = true

[node name="Actions" type="Node" parent="Other"]

[node name="hide_bg" type="Node" parent="Other/Actions"]
script = ExtResource( 33 )

[node name="hide_background" type="Node" parent="Other/Actions/hide_bg"]
script = ExtResource( 34 )
Node = NodePath("../../../../Background/Background")
FadeIn = false
Duration = 2.0

[node name="hide_book_1" type="Node" parent="Other/Actions/hide_bg"]
script = ExtResource( 34 )
Node = NodePath("../../../../Main/MiscBooks")
FadeIn = false
Duration = 2.0

[node name="hide_book_2" type="Node" parent="Other/Actions/hide_bg"]
script = ExtResource( 34 )
Node = NodePath("../../../../Main/MiscBooks2")
FadeIn = false
Duration = 2.0

[node name="hide_book_3" type="Node" parent="Other/Actions/hide_bg"]
script = ExtResource( 34 )
Node = NodePath("../../../../Main/FloorBook2")
FadeIn = false
Duration = 2.0

[node name="open_curtains" type="Node" parent="Other/Actions"]
script = ExtResource( 36 )
Node = NodePath("../../../Background/Background/Paintings/WallDrapes")
Frame = 1

[node name="show_path" type="Node" parent="Other/Actions"]
script = ExtResource( 33 )

[node name="align" type="Node" parent="Other/Actions/show_path"]
script = ExtResource( 37 )
Node = NodePath("../../../../Background/CobblestoneOut")

[node name="fade_in" type="Node" parent="Other/Actions/show_path"]
script = ExtResource( 34 )
Node = NodePath("../../../../Background/CobblestoneOut")
Duration = 2.0
